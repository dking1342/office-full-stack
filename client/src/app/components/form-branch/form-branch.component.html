<ng-container *ngIf="(appStateForm$ | async) as appStateForm" [ngSwitch]="appStateForm.dataState">
    <ng-container *ngSwitchCase="DataState.LOADING">
        loading...
    </ng-container>
    <ng-container *ngSwitchCase="DataState.LOADED">
        loaded data
    </ng-container>
    <ng-container *ngSwitchCase="DataState.ERROR">
        {{appStateForm.error}}
    </ng-container>
</ng-container>

<form>
    <div>
        <label for="location">Location</label>
        <input type="text" name="location" [(ngModel)]="formState.location" required>
    </div>
    <div>
        <label for="status">Status</label>
        <select name="selectedStatus" [(ngModel)]="formState.branchStatus" required>
            <option *ngFor="let status of locationStatus" [value]="status">{{status}}</option>
        </select>
    </div>
    <div>
        <button (click)="submitForm()">Submit</button>
    </div>
</form>

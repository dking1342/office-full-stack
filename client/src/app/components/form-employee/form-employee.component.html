<ng-container *ngIf="(appStateForm$ | async) as appStateForm" [ngSwitch]="appStateForm.dataState">
    <ng-container *ngSwitchCase="FetchStatus.LOADING">
        loading...
    </ng-container>
    <ng-container *ngSwitchCase="FetchStatus.LOADED">
        loaded data
    </ng-container>
    <ng-container *ngSwitchCase="FetchStatus.ERROR">
        {{appStateForm.error}}
    </ng-container>
</ng-container>

<ng-container>
    <form (ngSubmit)="submitForm()">
        <div>
            <label for="firstName">First Name</label>
            <input type="text" name="firstName" [(ngModel)]="firstName" required>
        </div>
        <div>
            <label for="lastName">Last Name</label>
            <input type="text" name="lastName" [(ngModel)]="lastName" required>
        </div>
        <div>
            <label for="role">Role</label>
            <select name="selectedRole" [(ngModel)]="selectedRole" required>
                <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
            </select>
        </div>
        <div>
            <label for="branch">Branch</label>
            <select name="selectedBranch" [(ngModel)]="selectedBranch" required>
                <option *ngFor="let branch of branchs" [value]="branch.branch_id">{{branch.location}}</option>
            </select>
        </div>
        <div>
            <input type="submit" value="Submit">
        </div>
    </form>
</ng-container>

